% ansible-playbook -v -b -c paramiko install_raspberrypi.yml 

PLAY [Raspberry Pi 3B+ Configuration] *************************************************************************************************************************************************

TASK [Update apt cache] ***************************************************************************************************************************************************************
[WARNING]: Platform linux on host clusterpi19 is using the discovered Python interpreter at /usr/bin/python3.9, but future installation of another Python interpreter could change the
meaning of that path. See https://docs.ansible.com/ansible-core/2.15/reference_appendices/interpreter_discovery.html for more information.
changed: [clusterpi19] => {"ansible_facts": {"discovered_interpreter_python": "/usr/bin/python3.9"}, "cache_update_time": 1687353989, "cache_updated": true, "changed": true}

TASK [Install required packages] ******************************************************************************************************************************************************
ok: [clusterpi19] => (item=curl) => {"ansible_loop_var": "item", "cache_update_time": 1687353989, "cache_updated": false, "changed": false, "item": "curl"}
changed: [clusterpi19] => (item=gnupg2) => {"ansible_loop_var": "item", "cache_update_time": 1687353989, "cache_updated": false, "changed": true, "item": "gnupg2", "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  gnupg2\n0 upgraded, 1 newly installed, 0 to remove and 9 not upgraded.\nNeed to get 434 kB of archives.\nAfter this operation, 453 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main arm64 gnupg2 all 2.2.27-2+deb11u2 [434 kB]\nFetched 434 kB in 0s (3958 kB/s)\nSelecting previously unselected package gnupg2.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 37710 files and directories currently installed.)\r\nPreparing to unpack .../gnupg2_2.2.27-2+deb11u2_all.deb ...\r\nUnpacking gnupg2 (2.2.27-2+deb11u2) ...\r\nSetting up gnupg2 (2.2.27-2+deb11u2) ...\r\nProcessing triggers for man-db (2.9.4-2) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following NEW packages will be installed:", "  gnupg2", "0 upgraded, 1 newly installed, 0 to remove and 9 not upgraded.", "Need to get 434 kB of archives.", "After this operation, 453 kB of additional disk space will be used.", "Get:1 http://deb.debian.org/debian bullseye/main arm64 gnupg2 all 2.2.27-2+deb11u2 [434 kB]", "Fetched 434 kB in 0s (3958 kB/s)", "Selecting previously unselected package gnupg2.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 37710 files and directories currently installed.)", "Preparing to unpack .../gnupg2_2.2.27-2+deb11u2_all.deb ...", "Unpacking gnupg2 (2.2.27-2+deb11u2) ...", "Setting up gnupg2 (2.2.27-2+deb11u2) ...", "Processing triggers for man-db (2.9.4-2) ..."]}
changed: [clusterpi19] => (item=apt-transport-https) => {"ansible_loop_var": "item", "cache_update_time": 1687353989, "cache_updated": false, "changed": true, "item": "apt-transport-https", "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  apt-transport-https\n0 upgraded, 1 newly installed, 0 to remove and 9 not upgraded.\nNeed to get 160 kB of archives.\nAfter this operation, 166 kB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main arm64 apt-transport-https all 2.2.4 [160 kB]\nFetched 160 kB in 0s (2040 kB/s)\nSelecting previously unselected package apt-transport-https.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 37717 files and directories currently installed.)\r\nPreparing to unpack .../apt-transport-https_2.2.4_all.deb ...\r\nUnpacking apt-transport-https (2.2.4) ...\r\nSetting up apt-transport-https (2.2.4) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following NEW packages will be installed:", "  apt-transport-https", "0 upgraded, 1 newly installed, 0 to remove and 9 not upgraded.", "Need to get 160 kB of archives.", "After this operation, 166 kB of additional disk space will be used.", "Get:1 http://deb.debian.org/debian bullseye/main arm64 apt-transport-https all 2.2.4 [160 kB]", "Fetched 160 kB in 0s (2040 kB/s)", "Selecting previously unselected package apt-transport-https.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 37717 files and directories currently installed.)", "Preparing to unpack .../apt-transport-https_2.2.4_all.deb ...", "Unpacking apt-transport-https (2.2.4) ...", "Setting up apt-transport-https (2.2.4) ..."]}
ok: [clusterpi19] => (item=ca-certificates) => {"ansible_loop_var": "item", "cache_update_time": 1687353989, "cache_updated": false, "changed": false, "item": "ca-certificates"}
changed: [clusterpi19] => (item=software-properties-common) => {"ansible_loop_var": "item", "cache_update_time": 1687353989, "cache_updated": false, "changed": true, "item": "software-properties-common", "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 libappstream4\n  libgirepository-1.0-1 libglib2.0-bin libglib2.0-data libpackagekit-glib2-18\n  libstemmer0d packagekit packagekit-tools python3-dbus python3-distro-info\n  python3-gi python3-pycurl python3-software-properties unattended-upgrades\nSuggested packages:\n  appstream python-dbus-doc python3-dbus-dbg libcurl4-gnutls-dev\n  python-pycurl-doc python3-pycurl-dbg bsd-mailx default-mta\n  | mail-transport-agent needrestart powermgmt-base\nThe following NEW packages will be installed:\n  gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 libappstream4\n  libgirepository-1.0-1 libglib2.0-bin libglib2.0-data libpackagekit-glib2-18\n  libstemmer0d packagekit packagekit-tools python3-dbus python3-distro-info\n  python3-gi python3-pycurl python3-software-properties\n  software-properties-common unattended-upgrades\n0 upgraded, 17 newly installed, 0 to remove and 9 not upgraded.\nNeed to get 3207 kB of archives.\nAfter this operation, 17.9 MB of additional disk space will be used.\nGet:1 http://deb.debian.org/debian bullseye/main arm64 libgirepository-1.0-1 arm64 1.66.1-1+b1 [88.6 kB]\nGet:2 http://deb.debian.org/debian bullseye/main arm64 gir1.2-glib-2.0 arm64 1.66.1-1+b1 [151 kB]\nGet:3 http://deb.debian.org/debian bullseye/main arm64 libpackagekit-glib2-18 arm64 1.2.2-2 [113 kB]\nGet:4 http://deb.debian.org/debian bullseye/main arm64 gir1.2-packagekitglib-1.0 arm64 1.2.2-2 [36.8 kB]\nGet:5 http://deb.debian.org/debian bullseye/main arm64 libstemmer0d arm64 2.1.0-1 [113 kB]\nGet:6 http://deb.debian.org/debian bullseye/main arm64 libappstream4 arm64 0.14.4-1 [160 kB]\nGet:7 http://deb.debian.org/debian bullseye/main arm64 libglib2.0-data all 2.66.8-1 [1164 kB]\nGet:8 http://deb.debian.org/debian bullseye/main arm64 libglib2.0-bin arm64 2.66.8-1 [137 kB]\nGet:9 http://deb.debian.org/debian bullseye/main arm64 packagekit arm64 1.2.2-2 [575 kB]\nGet:10 http://deb.debian.org/debian bullseye/main arm64 packagekit-tools arm64 1.2.2-2 [39.9 kB]\nGet:11 http://deb.debian.org/debian bullseye/main arm64 python3-dbus arm64 1.2.16-5 [105 kB]\nGet:12 http://deb.debian.org/debian bullseye/main arm64 python3-distro-info all 1.0 [8720 B]\nGet:13 http://deb.debian.org/debian bullseye/main arm64 python3-gi arm64 3.38.0-2 [226 kB]\nGet:14 http://deb.debian.org/debian bullseye/main arm64 python3-pycurl arm64 7.43.0.6-5 [67.9 kB]\nGet:15 http://deb.debian.org/debian bullseye/main arm64 python3-software-properties all 0.96.20.2-2.1 [49.7 kB]\nGet:16 http://deb.debian.org/debian bullseye/main arm64 software-properties-common all 0.96.20.2-2.1 [83.4 kB]\nGet:17 http://deb.debian.org/debian bullseye/main arm64 unattended-upgrades all 2.8 [88.6 kB]\nPreconfiguring packages ...\nFetched 3207 kB in 0s (7888 kB/s)\nSelecting previously unselected package libgirepository-1.0-1:arm64.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 37721 files and directories currently installed.)\r\nPreparing to unpack .../00-libgirepository-1.0-1_1.66.1-1+b1_arm64.deb ...\r\nUnpacking libgirepository-1.0-1:arm64 (1.66.1-1+b1) ...\r\nSelecting previously unselected package gir1.2-glib-2.0:arm64.\r\nPreparing to unpack .../01-gir1.2-glib-2.0_1.66.1-1+b1_arm64.deb ...\r\nUnpacking gir1.2-glib-2.0:arm64 (1.66.1-1+b1) ...\r\nSelecting previously unselected package libpackagekit-glib2-18:arm64.\r\nPreparing to unpack .../02-libpackagekit-glib2-18_1.2.2-2_arm64.deb ...\r\nUnpacking libpackagekit-glib2-18:arm64 (1.2.2-2) ...\r\nSelecting previously unselected package gir1.2-packagekitglib-1.0.\r\nPreparing to unpack .../03-gir1.2-packagekitglib-1.0_1.2.2-2_arm64.deb ...\r\nUnpacking gir1.2-packagekitglib-1.0 (1.2.2-2) ...\r\nSelecting previously unselected package libstemmer0d:arm64.\r\nPreparing to unpack .../04-libstemmer0d_2.1.0-1_arm64.deb ...\r\nUnpacking libstemmer0d:arm64 (2.1.0-1) ...\r\nSelecting previously unselected package libappstream4:arm64.\r\nPreparing to unpack .../05-libappstream4_0.14.4-1_arm64.deb ...\r\nUnpacking libappstream4:arm64 (0.14.4-1) ...\r\nSelecting previously unselected package libglib2.0-data.\r\nPreparing to unpack .../06-libglib2.0-data_2.66.8-1_all.deb ...\r\nUnpacking libglib2.0-data (2.66.8-1) ...\r\nSelecting previously unselected package libglib2.0-bin.\r\nPreparing to unpack .../07-libglib2.0-bin_2.66.8-1_arm64.deb ...\r\nUnpacking libglib2.0-bin (2.66.8-1) ...\r\nSelecting previously unselected package packagekit.\r\nPreparing to unpack .../08-packagekit_1.2.2-2_arm64.deb ...\r\nUnpacking packagekit (1.2.2-2) ...\r\nSelecting previously unselected package packagekit-tools.\r\nPreparing to unpack .../09-packagekit-tools_1.2.2-2_arm64.deb ...\r\nUnpacking packagekit-tools (1.2.2-2) ...\r\nSelecting previously unselected package python3-dbus.\r\nPreparing to unpack .../10-python3-dbus_1.2.16-5_arm64.deb ...\r\nUnpacking python3-dbus (1.2.16-5) ...\r\nSelecting previously unselected package python3-distro-info.\r\nPreparing to unpack .../11-python3-distro-info_1.0_all.deb ...\r\nUnpacking python3-distro-info (1.0) ...\r\nSelecting previously unselected package python3-gi.\r\nPreparing to unpack .../12-python3-gi_3.38.0-2_arm64.deb ...\r\nUnpacking python3-gi (3.38.0-2) ...\r\nSelecting previously unselected package python3-pycurl.\r\nPreparing to unpack .../13-python3-pycurl_7.43.0.6-5_arm64.deb ...\r\nUnpacking python3-pycurl (7.43.0.6-5) ...\r\nSelecting previously unselected package python3-software-properties.\r\nPreparing to unpack .../14-python3-software-properties_0.96.20.2-2.1_all.deb ...\r\nUnpacking python3-software-properties (0.96.20.2-2.1) ...\r\nSelecting previously unselected package software-properties-common.\r\nPreparing to unpack .../15-software-properties-common_0.96.20.2-2.1_all.deb ...\r\nUnpacking software-properties-common (0.96.20.2-2.1) ...\r\nSelecting previously unselected package unattended-upgrades.\r\nPreparing to unpack .../16-unattended-upgrades_2.8_all.deb ...\r\nUnpacking unattended-upgrades (2.8) ...\r\nSetting up python3-dbus (1.2.16-5) ...\r\nSetting up libpackagekit-glib2-18:arm64 (1.2.2-2) ...\r\nSetting up python3-pycurl (7.43.0.6-5) ...\r\nSetting up libglib2.0-data (2.66.8-1) ...\r\nSetting up python3-software-properties (0.96.20.2-2.1) ...\r\nSetting up libgirepository-1.0-1:arm64 (1.66.1-1+b1) ...\r\nSetting up libstemmer0d:arm64 (2.1.0-1) ...\r\nSetting up python3-distro-info (1.0) ...\r\nSetting up libglib2.0-bin (2.66.8-1) ...\r\nSetting up libappstream4:arm64 (0.14.4-1) ...\r\nSetting up unattended-upgrades (2.8) ...\r\n\r\nCreating config file /etc/apt/apt.conf.d/20auto-upgrades with new version\r\n\r\nCreating config file /etc/apt/apt.conf.d/50unattended-upgrades with new version\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/unattended-upgrades.service → /lib/systemd/system/unattended-upgrades.service.\r\nSynchronizing state of unattended-upgrades.service with SysV service script with /lib/systemd/systemd-sysv-install.\r\nExecuting: /lib/systemd/systemd-sysv-install enable unattended-upgrades\r\nSetting up gir1.2-glib-2.0:arm64 (1.66.1-1+b1) ...\r\nSetting up packagekit (1.2.2-2) ...\r\nCreated symlink /etc/systemd/user/sockets.target.wants/pk-debconf-helper.socket → /usr/lib/systemd/user/pk-debconf-helper.socket.\r\nSetting up packagekit-tools (1.2.2-2) ...\r\nSetting up gir1.2-packagekitglib-1.0 (1.2.2-2) ...\r\nSetting up python3-gi (3.38.0-2) ...\r\nSetting up software-properties-common (0.96.20.2-2.1) ...\r\nProcessing triggers for libc-bin (2.31-13+rpt2+rpi1+deb11u5) ...\r\nProcessing triggers for man-db (2.9.4-2) ...\r\nProcessing triggers for dbus (1.12.24-0+deb11u1) ...\r\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 libappstream4", "  libgirepository-1.0-1 libglib2.0-bin libglib2.0-data libpackagekit-glib2-18", "  libstemmer0d packagekit packagekit-tools python3-dbus python3-distro-info", "  python3-gi python3-pycurl python3-software-properties unattended-upgrades", "Suggested packages:", "  appstream python-dbus-doc python3-dbus-dbg libcurl4-gnutls-dev", "  python-pycurl-doc python3-pycurl-dbg bsd-mailx default-mta", "  | mail-transport-agent needrestart powermgmt-base", "The following NEW packages will be installed:", "  gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 libappstream4", "  libgirepository-1.0-1 libglib2.0-bin libglib2.0-data libpackagekit-glib2-18", "  libstemmer0d packagekit packagekit-tools python3-dbus python3-distro-info", "  python3-gi python3-pycurl python3-software-properties", "  software-properties-common unattended-upgrades", "0 upgraded, 17 newly installed, 0 to remove and 9 not upgraded.", "Need to get 3207 kB of archives.", "After this operation, 17.9 MB of additional disk space will be used.", "Get:1 http://deb.debian.org/debian bullseye/main arm64 libgirepository-1.0-1 arm64 1.66.1-1+b1 [88.6 kB]", "Get:2 http://deb.debian.org/debian bullseye/main arm64 gir1.2-glib-2.0 arm64 1.66.1-1+b1 [151 kB]", "Get:3 http://deb.debian.org/debian bullseye/main arm64 libpackagekit-glib2-18 arm64 1.2.2-2 [113 kB]", "Get:4 http://deb.debian.org/debian bullseye/main arm64 gir1.2-packagekitglib-1.0 arm64 1.2.2-2 [36.8 kB]", "Get:5 http://deb.debian.org/debian bullseye/main arm64 libstemmer0d arm64 2.1.0-1 [113 kB]", "Get:6 http://deb.debian.org/debian bullseye/main arm64 libappstream4 arm64 0.14.4-1 [160 kB]", "Get:7 http://deb.debian.org/debian bullseye/main arm64 libglib2.0-data all 2.66.8-1 [1164 kB]", "Get:8 http://deb.debian.org/debian bullseye/main arm64 libglib2.0-bin arm64 2.66.8-1 [137 kB]", "Get:9 http://deb.debian.org/debian bullseye/main arm64 packagekit arm64 1.2.2-2 [575 kB]", "Get:10 http://deb.debian.org/debian bullseye/main arm64 packagekit-tools arm64 1.2.2-2 [39.9 kB]", "Get:11 http://deb.debian.org/debian bullseye/main arm64 python3-dbus arm64 1.2.16-5 [105 kB]", "Get:12 http://deb.debian.org/debian bullseye/main arm64 python3-distro-info all 1.0 [8720 B]", "Get:13 http://deb.debian.org/debian bullseye/main arm64 python3-gi arm64 3.38.0-2 [226 kB]", "Get:14 http://deb.debian.org/debian bullseye/main arm64 python3-pycurl arm64 7.43.0.6-5 [67.9 kB]", "Get:15 http://deb.debian.org/debian bullseye/main arm64 python3-software-properties all 0.96.20.2-2.1 [49.7 kB]", "Get:16 http://deb.debian.org/debian bullseye/main arm64 software-properties-common all 0.96.20.2-2.1 [83.4 kB]", "Get:17 http://deb.debian.org/debian bullseye/main arm64 unattended-upgrades all 2.8 [88.6 kB]", "Preconfiguring packages ...", "Fetched 3207 kB in 0s (7888 kB/s)", "Selecting previously unselected package libgirepository-1.0-1:arm64.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 37721 files and directories currently installed.)", "Preparing to unpack .../00-libgirepository-1.0-1_1.66.1-1+b1_arm64.deb ...", "Unpacking libgirepository-1.0-1:arm64 (1.66.1-1+b1) ...", "Selecting previously unselected package gir1.2-glib-2.0:arm64.", "Preparing to unpack .../01-gir1.2-glib-2.0_1.66.1-1+b1_arm64.deb ...", "Unpacking gir1.2-glib-2.0:arm64 (1.66.1-1+b1) ...", "Selecting previously unselected package libpackagekit-glib2-18:arm64.", "Preparing to unpack .../02-libpackagekit-glib2-18_1.2.2-2_arm64.deb ...", "Unpacking libpackagekit-glib2-18:arm64 (1.2.2-2) ...", "Selecting previously unselected package gir1.2-packagekitglib-1.0.", "Preparing to unpack .../03-gir1.2-packagekitglib-1.0_1.2.2-2_arm64.deb ...", "Unpacking gir1.2-packagekitglib-1.0 (1.2.2-2) ...", "Selecting previously unselected package libstemmer0d:arm64.", "Preparing to unpack .../04-libstemmer0d_2.1.0-1_arm64.deb ...", "Unpacking libstemmer0d:arm64 (2.1.0-1) ...", "Selecting previously unselected package libappstream4:arm64.", "Preparing to unpack .../05-libappstream4_0.14.4-1_arm64.deb ...", "Unpacking libappstream4:arm64 (0.14.4-1) ...", "Selecting previously unselected package libglib2.0-data.", "Preparing to unpack .../06-libglib2.0-data_2.66.8-1_all.deb ...", "Unpacking libglib2.0-data (2.66.8-1) ...", "Selecting previously unselected package libglib2.0-bin.", "Preparing to unpack .../07-libglib2.0-bin_2.66.8-1_arm64.deb ...", "Unpacking libglib2.0-bin (2.66.8-1) ...", "Selecting previously unselected package packagekit.", "Preparing to unpack .../08-packagekit_1.2.2-2_arm64.deb ...", "Unpacking packagekit (1.2.2-2) ...", "Selecting previously unselected package packagekit-tools.", "Preparing to unpack .../09-packagekit-tools_1.2.2-2_arm64.deb ...", "Unpacking packagekit-tools (1.2.2-2) ...", "Selecting previously unselected package python3-dbus.", "Preparing to unpack .../10-python3-dbus_1.2.16-5_arm64.deb ...", "Unpacking python3-dbus (1.2.16-5) ...", "Selecting previously unselected package python3-distro-info.", "Preparing to unpack .../11-python3-distro-info_1.0_all.deb ...", "Unpacking python3-distro-info (1.0) ...", "Selecting previously unselected package python3-gi.", "Preparing to unpack .../12-python3-gi_3.38.0-2_arm64.deb ...", "Unpacking python3-gi (3.38.0-2) ...", "Selecting previously unselected package python3-pycurl.", "Preparing to unpack .../13-python3-pycurl_7.43.0.6-5_arm64.deb ...", "Unpacking python3-pycurl (7.43.0.6-5) ...", "Selecting previously unselected package python3-software-properties.", "Preparing to unpack .../14-python3-software-properties_0.96.20.2-2.1_all.deb ...", "Unpacking python3-software-properties (0.96.20.2-2.1) ...", "Selecting previously unselected package software-properties-common.", "Preparing to unpack .../15-software-properties-common_0.96.20.2-2.1_all.deb ...", "Unpacking software-properties-common (0.96.20.2-2.1) ...", "Selecting previously unselected package unattended-upgrades.", "Preparing to unpack .../16-unattended-upgrades_2.8_all.deb ...", "Unpacking unattended-upgrades (2.8) ...", "Setting up python3-dbus (1.2.16-5) ...", "Setting up libpackagekit-glib2-18:arm64 (1.2.2-2) ...", "Setting up python3-pycurl (7.43.0.6-5) ...", "Setting up libglib2.0-data (2.66.8-1) ...", "Setting up python3-software-properties (0.96.20.2-2.1) ...", "Setting up libgirepository-1.0-1:arm64 (1.66.1-1+b1) ...", "Setting up libstemmer0d:arm64 (2.1.0-1) ...", "Setting up python3-distro-info (1.0) ...", "Setting up libglib2.0-bin (2.66.8-1) ...", "Setting up libappstream4:arm64 (0.14.4-1) ...", "Setting up unattended-upgrades (2.8) ...", "", "Creating config file /etc/apt/apt.conf.d/20auto-upgrades with new version", "", "Creating config file /etc/apt/apt.conf.d/50unattended-upgrades with new version", "Created symlink /etc/systemd/system/multi-user.target.wants/unattended-upgrades.service → /lib/systemd/system/unattended-upgrades.service.", "Synchronizing state of unattended-upgrades.service with SysV service script with /lib/systemd/systemd-sysv-install.", "Executing: /lib/systemd/systemd-sysv-install enable unattended-upgrades", "Setting up gir1.2-glib-2.0:arm64 (1.66.1-1+b1) ...", "Setting up packagekit (1.2.2-2) ...", "Created symlink /etc/systemd/user/sockets.target.wants/pk-debconf-helper.socket → /usr/lib/systemd/user/pk-debconf-helper.socket.", "Setting up packagekit-tools (1.2.2-2) ...", "Setting up gir1.2-packagekitglib-1.0 (1.2.2-2) ...", "Setting up python3-gi (3.38.0-2) ...", "Setting up software-properties-common (0.96.20.2-2.1) ...", "Processing triggers for libc-bin (2.31-13+rpt2+rpi1+deb11u5) ...", "Processing triggers for man-db (2.9.4-2) ...", "Processing triggers for dbus (1.12.24-0+deb11u1) ..."]}

TASK [Download Docker convenience script] *********************************************************************************************************************************************
changed: [clusterpi19] => {"changed": true, "cmd": "curl -fsSL https://get.docker.com -o get-docker.sh", "delta": "0:00:00.229774", "end": "2023-06-21 14:28:19.402383", "msg": "", "rc": 0, "start": "2023-06-21 14:28:19.172609", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}

TASK [Run Docker convenience script] **************************************************************************************************************************************************
changed: [clusterpi19] => {"changed": true, "cmd": "sudo sh get-docker.sh", "delta": "0:02:52.856148", "end": "2023-06-21 14:31:14.985861", "msg": "", "rc": 0, "start": "2023-06-21 14:28:22.129713", "stderr": "+ sh -c apt-get update -qq >/dev/null\n+ sh -c DEBIAN_FRONTEND=noninteractive apt-get install -y -qq apt-transport-https ca-certificates curl >/dev/null\n+ sh -c install -m 0755 -d /etc/apt/keyrings\n+ sh -c curl -fsSL \"https://download.docker.com/linux/debian/gpg\" | gpg --dearmor --yes -o /etc/apt/keyrings/docker.gpg\n+ sh -c chmod a+r /etc/apt/keyrings/docker.gpg\n+ sh -c echo \"deb [arch=arm64 signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian bullseye stable\" > /etc/apt/sources.list.d/docker.list\n+ sh -c apt-get update -qq >/dev/null\n+ sh -c DEBIAN_FRONTEND=noninteractive apt-get install -y -qq docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-ce-rootless-extras docker-buildx-plugin >/dev/null\n+ sh -c docker version", "stderr_lines": ["+ sh -c apt-get update -qq >/dev/null", "+ sh -c DEBIAN_FRONTEND=noninteractive apt-get install -y -qq apt-transport-https ca-certificates curl >/dev/null", "+ sh -c install -m 0755 -d /etc/apt/keyrings", "+ sh -c curl -fsSL \"https://download.docker.com/linux/debian/gpg\" | gpg --dearmor --yes -o /etc/apt/keyrings/docker.gpg", "+ sh -c chmod a+r /etc/apt/keyrings/docker.gpg", "+ sh -c echo \"deb [arch=arm64 signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian bullseye stable\" > /etc/apt/sources.list.d/docker.list", "+ sh -c apt-get update -qq >/dev/null", "+ sh -c DEBIAN_FRONTEND=noninteractive apt-get install -y -qq docker-ce docker-ce-cli containerd.io docker-compose-plugin docker-ce-rootless-extras docker-buildx-plugin >/dev/null", "+ sh -c docker version"], "stdout": "# Executing docker install script, commit: c2de0811708b6d9015ed1a2c80f02c9b70c8ce7b\nClient: Docker Engine - Community\n Version:           24.0.2\n API version:       1.43\n Go version:        go1.20.4\n Git commit:        cb74dfc\n Built:             Thu May 25 21:50:59 2023\n OS/Arch:           linux/arm64\n Context:           default\n\nServer: Docker Engine - Community\n Engine:\n  Version:          24.0.2\n  API version:      1.43 (minimum version 1.12)\n  Go version:       go1.20.4\n  Git commit:       659604f\n  Built:            Thu May 25 21:50:59 2023\n  OS/Arch:          linux/arm64\n  Experimental:     false\n containerd:\n  Version:          1.6.21\n  GitCommit:        3dce8eb055cbb6872793272b4f20ed16117344f8\n runc:\n  Version:          1.1.7\n  GitCommit:        v1.1.7-0-g860f061\n docker-init:\n  Version:          0.19.0\n  GitCommit:        de40ad0\n\n================================================================================\n\nTo run Docker as a non-privileged user, consider setting up the\nDocker daemon in rootless mode for your user:\n\n    dockerd-rootless-setuptool.sh install\n\nVisit https://docs.docker.com/go/rootless/ to learn about rootless mode.\n\n\nTo run the Docker daemon as a fully privileged service, but granting non-root\nusers access, refer to https://docs.docker.com/go/daemon-access/\n\nWARNING: Access to the remote API on a privileged Docker daemon is equivalent\n         to root access on the host. Refer to the 'Docker daemon attack surface'\n         documentation for details: https://docs.docker.com/go/attack-surface/\n\n================================================================================", "stdout_lines": ["# Executing docker install script, commit: c2de0811708b6d9015ed1a2c80f02c9b70c8ce7b", "Client: Docker Engine - Community", " Version:           24.0.2", " API version:       1.43", " Go version:        go1.20.4", " Git commit:        cb74dfc", " Built:             Thu May 25 21:50:59 2023", " OS/Arch:           linux/arm64", " Context:           default", "", "Server: Docker Engine - Community", " Engine:", "  Version:          24.0.2", "  API version:      1.43 (minimum version 1.12)", "  Go version:       go1.20.4", "  Git commit:       659604f", "  Built:            Thu May 25 21:50:59 2023", "  OS/Arch:          linux/arm64", "  Experimental:     false", " containerd:", "  Version:          1.6.21", "  GitCommit:        3dce8eb055cbb6872793272b4f20ed16117344f8", " runc:", "  Version:          1.1.7", "  GitCommit:        v1.1.7-0-g860f061", " docker-init:", "  Version:          0.19.0", "  GitCommit:        de40ad0", "", "================================================================================", "", "To run Docker as a non-privileged user, consider setting up the", "Docker daemon in rootless mode for your user:", "", "    dockerd-rootless-setuptool.sh install", "", "Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.", "", "", "To run the Docker daemon as a fully privileged service, but granting non-root", "users access, refer to https://docs.docker.com/go/daemon-access/", "", "WARNING: Access to the remote API on a privileged Docker daemon is equivalent", "         to root access on the host. Refer to the 'Docker daemon attack surface'", "         documentation for details: https://docs.docker.com/go/attack-surface/", "", "================================================================================"]}

TASK [Add pi user to docker group] ****************************************************************************************************************************************************
changed: [clusterpi19] => {"append": true, "changed": true, "comment": ",,,", "group": 1000, "groups": "docker", "home": "/home/cluster", "move_home": false, "name": "cluster", "shell": "/bin/bash", "state": "present", "uid": 1000}

TASK [Start and enable Docker service] ************************************************************************************************************************************************
ok: [clusterpi19] => {"changed": false, "enabled": true, "name": "docker", "state": "started", "status": {"ActiveEnterTimestamp": "Wed 2023-06-21 14:30:52 BST", "ActiveEnterTimestampMonotonic": "5551307965", "ActiveExitTimestampMonotonic": "0", "ActiveState": "active", "After": "system.slice network-online.target sysinit.target docker.socket firewalld.service basic.target systemd-journald.socket containerd.service time-set.target", "AllowIsolate": "no", "AllowedCPUs": "", "AllowedMemoryNodes": "", "AmbientCapabilities": "", "AssertResult": "yes", "AssertTimestamp": "Wed 2023-06-21 14:30:47 BST", "AssertTimestampMonotonic": "5545848763", "Before": "multi-user.target shutdown.target", "BlockIOAccounting": "no", "BlockIOWeight": "[not set]", "CPUAccounting": "yes", "CPUAffinity": "", "CPUAffinityFromNUMA": "no", "CPUQuotaPerSecUSec": "infinity", "CPUQuotaPeriodUSec": "infinity", "CPUSchedulingPolicy": "0", "CPUSchedulingPriority": "0", "CPUSchedulingResetOnFork": "no", "CPUShares": "[not set]", "CPUUsageNSec": "2789565000", "CPUWeight": "[not set]", "CacheDirectoryMode": "0755", "CanFreeze": "yes", "CanIsolate": "no", "CanReload": "yes", "CanStart": "yes", "CanStop": "yes", "CapabilityBoundingSet": "cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend cap_audit_read cap_perfmon cap_bpf cap_checkpoint_restore", "CleanResult": "success", "CollectMode": "inactive", "ConditionResult": "yes", "ConditionTimestamp": "Wed 2023-06-21 14:30:47 BST", "ConditionTimestampMonotonic": "5545848727", "ConfigurationDirectoryMode": "0755", "Conflicts": "shutdown.target", "ControlGroup": "/system.slice/docker.service", "ControlPID": "0", "CoredumpFilter": "0x33", "DefaultDependencies": "yes", "DefaultMemoryLow": "0", "DefaultMemoryMin": "0", "Delegate": "yes", "DelegateControllers": "cpu cpuacct cpuset io blkio memory devices pids bpf-firewall bpf-devices", "Description": "Docker Application Container Engine", "DevicePolicy": "auto", "Documentation": "https://docs.docker.com", "DynamicUser": "no", "EffectiveCPUs": "0-3", "EffectiveMemoryNodes": "0", "ExecMainCode": "0", "ExecMainExitTimestampMonotonic": "0", "ExecMainPID": "3528", "ExecMainStartTimestamp": "Wed 2023-06-21 14:30:47 BST", "ExecMainStartTimestampMonotonic": "5545856665", "ExecMainStatus": "0", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecReloadEx": "{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; flags= ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "ExecStart": "{ path=/usr/bin/dockerd ; argv[]=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock ; ignore_errors=no ; start_time=[Wed 2023-06-21 14:30:47 BST] ; stop_time=[n/a] ; pid=3528 ; code=(null) ; status=0/0 }", "ExecStartEx": "{ path=/usr/bin/dockerd ; argv[]=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock ; flags= ; start_time=[Wed 2023-06-21 14:30:47 BST] ; stop_time=[n/a] ; pid=3528 ; code=(null) ; status=0/0 }", "FailureAction": "none", "FileDescriptorStoreMax": "0", "FinalKillSignal": "9", "FragmentPath": "/lib/systemd/system/docker.service", "FreezerState": "running", "GID": "[not set]", "GuessMainPID": "yes", "IOAccounting": "no", "IOReadBytes": "18446744073709551615", "IOReadOperations": "18446744073709551615", "IOSchedulingClass": "0", "IOSchedulingPriority": "0", "IOWeight": "[not set]", "IOWriteBytes": "18446744073709551615", "IOWriteOperations": "18446744073709551615", "IPAccounting": "no", "IPEgressBytes": "[no data]", "IPEgressPackets": "[no data]", "IPIngressBytes": "[no data]", "IPIngressPackets": "[no data]", "Id": "docker.service", "IgnoreOnIsolate": "no", "IgnoreSIGPIPE": "yes", "InactiveEnterTimestampMonotonic": "0", "InactiveExitTimestamp": "Wed 2023-06-21 14:30:47 BST", "InactiveExitTimestampMonotonic": "5545859539", "InvocationID": "ec38a74a57d446238dc7ca9514c4ce1f", "JobRunningTimeoutUSec": "infinity", "JobTimeoutAction": "none", "JobTimeoutUSec": "infinity", "KeyringMode": "private", "KillMode": "process", "KillSignal": "15", "LimitAS": "infinity", "LimitASSoft": "infinity", "LimitCORE": "infinity", "LimitCORESoft": "infinity", "LimitCPU": "infinity", "LimitCPUSoft": "infinity", "LimitDATA": "infinity", "LimitDATASoft": "infinity", "LimitFSIZE": "infinity", "LimitFSIZESoft": "infinity", "LimitLOCKS": "infinity", "LimitLOCKSSoft": "infinity", "LimitMEMLOCK": "8388608", "LimitMEMLOCKSoft": "8388608", "LimitMSGQUEUE": "819200", "LimitMSGQUEUESoft": "819200", "LimitNICE": "0", "LimitNICESoft": "0", "LimitNOFILE": "infinity", "LimitNOFILESoft": "infinity", "LimitNPROC": "infinity", "LimitNPROCSoft": "infinity", "LimitRSS": "infinity", "LimitRSSSoft": "infinity", "LimitRTPRIO": "0", "LimitRTPRIOSoft": "0", "LimitRTTIME": "infinity", "LimitRTTIMESoft": "infinity", "LimitSIGPENDING": "2598", "LimitSIGPENDINGSoft": "2598", "LimitSTACK": "infinity", "LimitSTACKSoft": "8388608", "LoadState": "loaded", "LockPersonality": "no", "LogLevelMax": "-1", "LogRateLimitBurst": "0", "LogRateLimitIntervalUSec": "0", "LogsDirectoryMode": "0755", "MainPID": "3528", "ManagedOOMMemoryPressure": "auto", "ManagedOOMMemoryPressureLimitPercent": "0%", "ManagedOOMSwap": "auto", "MemoryAccounting": "yes", "MemoryCurrent": "[not set]", "MemoryDenyWriteExecute": "no", "MemoryHigh": "infinity", "MemoryLimit": "infinity", "MemoryLow": "0", "MemoryMax": "infinity", "MemoryMin": "0", "MemorySwapMax": "infinity", "MountAPIVFS": "no", "MountFlags": "", "NFileDescriptorStore": "0", "NRestarts": "0", "NUMAMask": "", "NUMAPolicy": "n/a", "Names": "docker.service", "NeedDaemonReload": "no", "Nice": "0", "NoNewPrivileges": "no", "NonBlocking": "no", "NotifyAccess": "main", "OOMPolicy": "continue", "OOMScoreAdjust": "-500", "OnFailureJobMode": "replace", "Perpetual": "no", "PrivateDevices": "no", "PrivateMounts": "no", "PrivateNetwork": "no", "PrivateTmp": "no", "PrivateUsers": "no", "ProcSubset": "all", "ProtectClock": "no", "ProtectControlGroups": "no", "ProtectHome": "no", "ProtectHostname": "no", "ProtectKernelLogs": "no", "ProtectKernelModules": "no", "ProtectKernelTunables": "no", "ProtectProc": "default", "ProtectSystem": "no", "RefuseManualStart": "no", "RefuseManualStop": "no", "ReloadResult": "success", "RemainAfterExit": "no", "RemoveIPC": "no", "Requires": "docker.socket system.slice sysinit.target", "Restart": "always", "RestartKillSignal": "15", "RestartUSec": "2s", "RestrictNamespaces": "no", "RestrictRealtime": "no", "RestrictSUIDSGID": "no", "Result": "success", "RootDirectoryStartOnly": "no", "RootHashSignature": "", "RuntimeDirectoryMode": "0755", "RuntimeDirectoryPreserve": "no", "RuntimeMaxUSec": "infinity", "SameProcessGroup": "no", "SecureBits": "0", "SendSIGHUP": "no", "SendSIGKILL": "yes", "Slice": "system.slice", "StandardError": "inherit", "StandardInput": "null", "StandardInputData": "", "StandardOutput": "journal", "StartLimitAction": "none", "StartLimitBurst": "3", "StartLimitIntervalUSec": "1min", "StartupBlockIOWeight": "[not set]", "StartupCPUShares": "[not set]", "StartupCPUWeight": "[not set]", "StartupIOWeight": "[not set]", "StateChangeTimestamp": "Wed 2023-06-21 14:30:52 BST", "StateChangeTimestampMonotonic": "5551307965", "StateDirectoryMode": "0755", "StatusErrno": "0", "StopWhenUnneeded": "no", "SubState": "running", "SuccessAction": "none", "SyslogFacility": "3", "SyslogLevel": "6", "SyslogLevelPrefix": "yes", "SyslogPriority": "30", "SystemCallErrorNumber": "2147483646", "TTYReset": "no", "TTYVHangup": "no", "TTYVTDisallocate": "no", "TasksAccounting": "yes", "TasksCurrent": "10", "TasksMax": "infinity", "TimeoutAbortUSec": "1min 30s", "TimeoutCleanUSec": "infinity", "TimeoutStartFailureMode": "terminate", "TimeoutStartUSec": "infinity", "TimeoutStopFailureMode": "terminate", "TimeoutStopUSec": "1min 30s", "TimerSlackNSec": "50000", "Transient": "no", "TriggeredBy": "docker.socket", "Type": "notify", "UID": "[not set]", "UMask": "0022", "UnitFilePreset": "enabled", "UnitFileState": "enabled", "UtmpMode": "init", "WantedBy": "multi-user.target", "Wants": "network-online.target containerd.service", "WatchdogSignal": "6", "WatchdogTimestampMonotonic": "0", "WatchdogUSec": "0"}}

PLAY RECAP ****************************************************************************************************************************************************************************
clusterpi19                : ok=6    changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0  